<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>user@host:~$</title>
<style>
  body {
    background: #1e1e1e;
    color: #c5c5c5;
    font-family: monospace;
    margin: 0;
    padding: 20px;
  }

  #terminal {
    background: #111;
    border: 1px solid #333;
    height: 400px;
    padding: 10px;
    overflow-y: auto;
  }

  .line {
    display: flex;
    align-items: center;
    margin-bottom: 2px;
  }

  .prompt {
    margin-right: 5px;
  }

  .input {
    background: transparent;
    border: none;
    outline: none;
    color: #c5c5c5;
    font-family: monospace;
    flex: 1;
    font-size: 16px;
  }

  .disabled {
    color: #888;
  }
</style>
</head>
<body>

<div id="terminal"></div>

<script>
const terminal = document.getElementById('terminal');

let cwd = "~";
let hostname = "arch";
let user = "root";

function display(text) {
    const line = document.createElement("div");
    line.textContent = text;
    terminal.appendChild(line);
    terminal.scrollTop = terminal.scrollHeight;
}

function newPrompt() {
    const line = document.createElement("div");
    line.className = "line";

    const prompt = document.createElement("span");
    prompt.className = "prompt";
    prompt.textContent = `${user}@${hostname}:${cwd}#`;
    updateTitle();
    function updateTitle() {
    document.title = `${user}@${hostname}:${cwd}#`;
    }

    const input = document.createElement("input");
    input.className = "input";
    input.autocomplete = "off";
    input.autofocus = true;
    input.spellcheck = false;

    line.appendChild(prompt);
    line.appendChild(input);
    terminal.appendChild(line);
    input.focus();

    input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
            const cmd = input.value.trim();
            input.disabled = true;
            input.classList.add("disabled");
            execute(cmd);
        }
    });

    terminal.scrollTop = terminal.scrollHeight;
}

function execute(cmd) {
    if(cmd === "cd .." && cwd === "~") cwd = "/";
    else if(cmd === "cd") cwd = "~";
    else if(cmd === "ls" && cwd === "~") display("file.txt");
    else if(cmd === "ls" && cwd === "/") display(
`bin  etc  lib  linuxrc  mnt  proc  run  sys  usr
dev  home  lib64  media  opt  root  sbin  tmp  var`
    );
    else if(cmd==="cat ~/file.txt") display("foobars");
    else if(cmd === "cd /") cwd = "/";
    else if(cmd === "ls /") display(
`bin  etc  lib  linuxrc  mnt  proc  run  sys  usr
dev  home  lib64  media  opt  root  sbin  tmp  var`
    );
    else if(cmd === "clear") {
    terminal.innerHTML = ""; // clears all output
    newPrompt();             // show a fresh prompt
    return;                  // stop further execution
    }

    else if(cmd === "exit") {
        display("logout.");
        return;
    }
    else display(`sh: ${cmd.split(" ")[0]}: command not found or invalid arguments`);

    newPrompt();
}

// Initialize terminal
display("Booting...");
display("Welcome to arch!");
newPrompt(); //your amazing
</script>

</body>
</html>
